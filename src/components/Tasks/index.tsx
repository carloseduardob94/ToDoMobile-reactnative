import { Text, View, Pressable, TouchableOpacity } from "react-native"
import { styles } from "./styles"
import { useState } from "react";
import Svg, { Path } from "react-native-svg";

interface PropsTasks {
  description: string;
  isChecked: boolean
  onRemove: () => void
  onToggleTask: (checkTask: boolean) => void
}

export const Task = ({ description, onRemove, isChecked, onToggleTask }: PropsTasks) => {
  const [checked, setChecked] = useState<boolean>(isChecked = false);

  const handleChangeCheckedTask = () => {
    setChecked(!checked)
    onToggleTask(!checked)
  }

  return (
    <View style={styles.container}>
      <Pressable
        style={[styles.checkboxBase, checked && styles.checkboxChecked]}
        onPress={handleChangeCheckedTask}
      >
        {checked && <Svg width={24} height={24}>
          <Path d="M11.9802 19.4261C16.0728 19.4261 19.3904 16.1085 19.3904 12.0159C19.3904 7.92333 16.0728 4.60565 11.9802 4.60565C7.88763 4.60565 4.56995 7.92333 4.56995 12.0159C4.56995 16.1085 7.88763 19.4261 11.9802 19.4261Z" fill="#5E60CE" />
          <Path d="M11.9643 4.85955C13.3765 4.85955 14.7571 5.27834 15.9313 6.06294C17.1056 6.84755 18.0208 7.96275 18.5612 9.2675C19.1017 10.5723 19.2431 12.008 18.9676 13.3931C18.6921 14.7782 18.012 16.0505 17.0134 17.0491C16.0148 18.0478 14.7424 18.7278 13.3573 19.0033C11.9722 19.2789 10.5365 19.1375 9.23173 18.597C7.92697 18.0566 6.81178 17.1413 6.02717 15.9671C5.24257 14.7928 4.82378 13.4123 4.82378 12C4.8311 10.1085 5.58574 8.29656 6.92326 6.95904C8.26079 5.62152 10.0728 4.86687 11.9643 4.85955ZM11.9643 3.27278C10.2397 3.27983 8.55592 3.79767 7.12543 4.76091C5.69494 5.72416 4.58191 7.08962 3.92683 8.68493C3.27176 10.2802 3.10401 12.0339 3.44478 13.7244C3.78554 15.415 4.61954 16.9667 5.84148 18.1837C7.06342 19.4006 8.61852 20.2283 10.3105 20.5621C12.0024 20.896 13.7553 20.7211 15.348 20.0595C16.9406 19.3979 18.3015 18.2793 19.2589 16.8449C20.2163 15.4105 20.7272 13.7246 20.7273 12C20.7273 10.851 20.5003 9.71318 20.0595 8.652C19.6187 7.59083 18.9727 6.62715 18.1585 5.81628C17.3443 5.00541 16.378 4.36331 15.315 3.92683C14.2521 3.49035 13.1134 3.26808 11.9643 3.27278Z" fill="#5E60CE" />
          <Path d="M15.4307 9.34209L11.0988 13.674L8.6163 11.1916L7.7804 12.0275L11.0988 15.3458L16.2666 10.178L15.4307 9.34209Z" fill="#F2F2F2" />
        </Svg>}
      </Pressable>

      <Text style={[styles.textInput, checked && styles.textInputChecked]}>{description}</Text>
      <TouchableOpacity onPress={onRemove} style={{ width: 32, height: 32 }}>
        <Svg width={32} height={32}>
          <Path d="M18.2021 13.9855H16.8716V19.5073H18.2021V13.9855Z" fill="#E25858" />
          <Path d="M15.4624 13.9855H14.1318V19.5073H15.4624V13.9855Z" fill="#E25858" />
          <Path d="M22.478 11.1671C22.4754 11.0306 22.4295 10.8985 22.3469 10.7897C22.2642 10.681 22.1492 10.6014 22.0184 10.5623C21.9596 10.5378 21.8974 10.5225 21.8339 10.517H18.2868C18.1525 10.0779 17.8808 9.69355 17.5117 9.42047C17.1426 9.14739 16.6956 9 16.2365 9C15.7774 9 15.3304 9.14739 14.9613 9.42047C14.5922 9.69355 14.3205 10.0779 14.1862 10.517H10.6391C10.5807 10.5181 10.5227 10.5273 10.4667 10.5442H10.4516C10.3132 10.587 10.1933 10.6755 10.1116 10.7951C10.0299 10.9148 9.99117 11.0587 10.0017 11.2032C10.0122 11.3477 10.0714 11.4844 10.1696 11.591C10.2678 11.6976 10.3992 11.7677 10.5423 11.7901L11.253 21.5334C11.2638 21.9127 11.4169 22.2741 11.6819 22.5458C11.9469 22.8175 12.3044 22.9797 12.6833 23H19.7867C20.1662 22.9804 20.5244 22.8186 20.79 22.5468C21.0556 22.2751 21.2092 21.9132 21.22 21.5334L21.9277 11.7991C22.0802 11.778 22.22 11.7023 22.3212 11.5862C22.4223 11.47 22.478 11.3212 22.478 11.1671ZM16.2365 10.2146C16.3661 10.2146 16.4943 10.2415 16.6129 10.2935C16.7316 10.3456 16.8382 10.4216 16.926 10.517H15.547C15.6346 10.4214 15.7411 10.3451 15.8599 10.293C15.9786 10.2409 16.1069 10.2142 16.2365 10.2146ZM19.7867 21.7904H12.6833C12.6017 21.7904 12.4747 21.6573 12.4595 21.4457L11.758 11.8112H20.715L20.0135 21.4457C19.9984 21.6573 19.8714 21.7904 19.7867 21.7904Z" fill="#E25858" />
        </Svg>
      </TouchableOpacity>
    </View >
  )
}